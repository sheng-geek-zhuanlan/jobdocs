<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/tem_java.dwt" codeOutsideHTMLIsLocked="false" --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>AC</title>
<script type="text/javascript" src="../lighter/scripts/shCore.js"></script>
<script type="text/javascript" src="../lighter/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="../lighter/scripts/shBrushXml.js"></script>
<link href="../lighter/styles/shThemeEclipse.css" rel="stylesheet" type="text/css" />
 <link rel="StyleSheet" href="../css/calendarfeatures.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" />
    <link href="../css/des.css" rel="stylesheet" type="text/css" />
        <link href="../css/table.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript">
SyntaxHighlighter.defaults['smart-tabs'] = false;
	SyntaxHighlighter.all();
    </script>
  </head>
<body>
    <div style="text-align: left;"><!-- InstanceBeginEditable name="links" -->      <table cellspacing="0" summary="">
        <tr>
        <td><a href="../index.html"><img alt="主页" border="0" src="../images/home.png" /></a></td>
          <td><a href="../6 在AC上开发运行ANT测试/开发指南：如何在AC上开发运行ANT测试.html"><img alt="上一页" border="0" src="../images/prev.jpg" /></a></td>
          <td><a href="开发指南：如何在AC上开发运行DB测试.html"><img alt="下一页" border="0" src="../images/next.jpg" /></a></td>
        </tr>
      </table>
    <!-- InstanceEndEditable --></div>
<br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
<!-- InstanceBeginEditable name="title_1" -->7 在AC上开发运行DB测试<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="Colon" --><!-- InstanceEndEditable --><!-- InstanceBeginEditable name="title_2" --><!-- InstanceEndEditable --></div>
    <hr align="left" />
<blockquote><!-- InstanceBeginEditable name="title_2_present" -->
  <div class="H1_Head1"> DB Job 简介</div>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="content1" -->
  <div class="des">
  <h3>1.TestJobFile.xml中Job定义 </h3>
<pre class="brush:java;gutter:false;toolbar:false; collapse:true;stripBrs:false">
&lt;JDBC name="Database" description="Test get email"  depends="">
  &lt;JobInput name="$MAIL_SUBJECT"/>
  &lt;JobOutput name="$NAME" sql="select name from testing"/>
  &lt;DBConfig>
       &lt;DB_HOST>staqc16.us.oracle.com&lt;/DB_HOST>
        &lt;DB_PORT>1521&lt;/DB_PORT>
        &lt;DB_SID>beedb&lt;/DB_SID>
        &lt;DB_USER>nls&lt;/DB_USER>
        &lt;DB_PWD>nls&lt;/DB_PWD>
        &lt;DB_TYPE>ORACLE&lt;/DB_TYPE>
  &lt;/DBConfig>
  &lt;DataLoad>
      &lt;SQLFile>D:\demo.sql&lt;/SQLFile>
      &lt;SQLLine>insert into t1nls values('test7','test7');&lt;/SQLLine>-->
  &lt;/DataLoad> 
  &lt;DataFetch>
      &lt;FetchDataSQL>select a from t1nls where a='test5';&lt;/FetchDataSQL>
      &lt;Output>$name&lt;/Output>
      &lt;DataType>String&lt;/DataType>
      &lt;ExpectedValue>test5&lt;/ExpectedValue>
      &lt;PassWhen>equal&lt;/PassWhen>
  &lt;/DataFetch> 
 &lt;/JDBC>
 </pre>
 <p>Tag defined in JDBC Job</p> 
 <div id="tableFrame">
    <div id="tableFrameTitle">
        <ul>
         <li>Parameters</li>
       <li>Description</li>
        </ul>
    </div>
    <div id="tableCase">
        <ul>
            <li>DB_HOST</li>
            <li>Required, DB host name</li>         
        </ul>
        <ul>
            <li>DB_PORT</li>
            <li> Required,DB listenning port</li>      
        </ul>  
        <ul>
            <li>DB_USER</li>
            <li> Required,DB user name</li>      
        </ul> 
        <ul>
            <li>DB_PWD</li>
            <li> Required,Passwd of DB_USER</li>      
        </ul> 
        <ul>
            <li>DB_TYPE</li>
            <li>Required,now support DB2, ORACLE two database driver</li>
        </ul> 
        <ul>
            <li>SQLFile</li>
            <li>the sql file path to load data in batch</li>      
        </ul> 
        <ul>
            <li>SQLLine</li>
            <li>DDL statements, insert, update and delete </li>      
        </ul> <ul>
            <li>FetchDataSQL<br/>&nbsp;</li>
            <li>Required, the SQL of "select", the sql must return only ONE value, if multiple records or fileds return, will cause error</li> 
        </ul> 
        <ul>
            <li>Output<br/>&nbsp;</li>
            <li>Optional, the sql result will be output to AC Channel as parameters</li>      
        </ul> 
        <ul>
            <li>DataType<br/>&nbsp;</li>
            <li>The datatype. Integer, String, boolean, this is used to verify actual value with expected Value</li>      
        </ul> 
        <ul>
            <li>ExpectedValue<br/>&nbsp;</li>
            <li>The expected value, will be compared with the value which fetchDataSQL returns</li>      
        </ul>
        <ul>
            <li>PassWhen </li>
            <li>Equal, or NotEqual. the condition of the comparation</li>
        </ul>   
    </div>
      </div>
<h3>2.<a href="开发指南：如何在AC上开发运行DB测试.html" title="Develop Guide"> 开发指南：如何在AC上开发运行DB测试</a></h3>
 <h3>3. Job API</h3> 
  <div id="tableFrame">
    <div id="tableFrameTitle">
        <ul>
         <li>Function</li>
       <li>Description</li>
        </ul>
    </div>
   <div id="tableCase">
        <ul>
          <li>NO</li>
          <li>NO</li> </ul>
  </div>

      <!-- InstanceEndEditable -->
            <!-- InstanceBeginEditable name="content2" -->
      <!-- InstanceEndEditable -->
          <!-- InstanceBeginEditable name="code" -->
 
 
 <!-- InstanceEndEditable -->
    <!-- InstanceBeginEditable name="content3" -->  
    <!-- InstanceEndEditable -->
    <!-- InstanceBeginEditable name="content4" -->
    
      <!-- InstanceEndEditable -->
          <!-- InstanceBeginEditable name="code2" -->
 
  <!-- InstanceEndEditable -->
</blockquote>
</body>
<!-- InstanceEnd --></html>
