<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/tem_xml.dwt" codeOutsideHTMLIsLocked="false" --><head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>AC</title>
<script type="text/javascript" src="../lighter/scripts/shCore.js"></script>
<script type="text/javascript" src="../lighter/scripts/shBrushXml.js"></script>
<script type="text/javascript" src="../lighter/scripts/shBrushJava.js"></script>
<link href="../lighter/styles/shThemeEclipse.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">SyntaxHighlighter.all();</script>
 <link rel="StyleSheet" href="../css/calendarfeatures.css" type="text/css" media="all" />
 <link href="../css/des.css" rel="stylesheet" type="text/css" />
    <link rel="StyleSheet" href="../css/webworks.css" type="text/css" media="all" />
  </head>
<body>
    <div style="text-align: left;"><!-- InstanceBeginEditable name="links" -->
            <table cellspacing="0" summary="">
        <tr>
        <td><a href="../index.html"><img alt="主页" border="0" src="../images/home.png" /></a></td>
          <td><a href="1-8 应用案例：银行系统应用案例.html"
><img alt="上一页" border="0" src="../images/prev.jpg" /></a></td>
          <td><a href="1-10 开发多数据循环测试.html"><img alt="下一页" border="0" src="../images/next.jpg" /></a></td>
        </tr>
      </table>
    <!-- InstanceEndEditable --></div>
<br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
<!-- InstanceBeginEditable name="title_1" --><a class="WebWorks_Breadcrumb_Link" href="1 AC入门.html">1 AC入门</a><!-- InstanceEndEditable --><!-- InstanceBeginEditable name="colon" -->：<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="title_2" -->1-9   框架功能：运行后报告邮件通知及上传  <!-- InstanceEndEditable --></div>
    <hr align="left" />
<blockquote><!-- InstanceBeginEditable name="title_2_present" -->
  <div class="H1_Head1"> 框架功能：运行后报告邮件通知及上传 </div>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="content1" -->
     
      <!-- InstanceEndEditable -->
            <!-- InstanceBeginEditable name="content2" -->
      <div class="des">
         <p>Automation Center提供框架任务，用来生成，发送，上传自动化测试报告。用户可以根据自己的需求对框架任务进行配置，来决定是否运行框架任务，怎样运行框架任务。</p>
</div>
        <div class="des">
<pre class="brush:xml;gutter: false;toolbar:false; collapse:true;stripBrs:false;smart-tabs:true">
&lt;AC name="EndJob" description=""  depends="">
		&lt;BuildReport path="./"/>
		&lt;UploadReport ToDo="Yes">
			&lt;FtpServer>$CONFIG.FTP_SERVER&lt;/FtpServer>
			&lt;FtpUser>$CONFIG.FTP_USER&lt;/FtpUser>
			&lt;FtpPasswd>&lt;/FtpPasswd>
			&lt;FtpDir>$ENV.BUILD&lt;/FtpDir>
		&lt;/UploadReport>
		&lt;MailReport ToDo="yes">
			&lt;MailConfig location="MailConfig.xml"/>
			&lt;MailTemplate location="template/MailConfig.xml"/>
			&lt;To>shining.liu@oracle.com&lt;/To>
			&lt;Cc>sunshinelius@gmail.com&lt;/Cc>
			&lt;Subject>This is  a report generated by framework&lt;/Subject>
		&lt;/MailReport>
	&lt;/AC>
</pre>
    </div>
      <!-- InstanceEndEditable -->
          <!-- InstanceBeginEditable name="code" -->
                <div class="des">
         <H4>1.  构建自动化测试报告</H4> 
         <P>AC自动化测试是采用xml+xsl技术生成基于html格式的报告。其好处是格式统一，信息充分，用户可定制。此任务必选。</P>
<pre class="brush:xml;gutter: false;toolbar:false; collapse:true;stripBrs:false;smart-tabs:true">
&lt;BuildReport path="./"/>
</pre>
    </div><!-- InstanceEndEditable -->
     <!-- InstanceBeginEditable name="content3" -->  
      <div class="des">
<h4>2.	FTP上传自动化测试报告</h4>
</div><!-- InstanceEndEditable -->
    <!-- InstanceBeginEditable name="content4" -->
      <div class="des">
         <p> 用户可配置 <UploadReport> 任务实现报告ftp上传，如果ftp路径指定到远程web server的htdocs目录，则可实现web呈现功能。</p> 
         <pre class="brush:xml;gutter: false;toolbar:false; collapse:true;stripBrs:false;smart-tabs:true">
&lt;UploadReport ToDo="Yes">
			&lt;FtpServer>$CONFIG.FTP_SERVER&lt;/FtpServer>
			&lt;FtpUser>$CONFIG.FTP_USER&lt;/FtpUser>
			&lt;FtpPasswd>&lt;/FtpPasswd>
			&lt;FtpDir>$ENV.BUILD&lt;/FtpDir>
&lt;/UploadReport>
</pre>
<p>
<ul><li>Todo：是否运行ftp任务，yes为运行，no为关闭</li>
<li>FtpServer: ftp server的hostname，可以直接指定hostname或ip。$CONFIG.FTP_SERVER则表明是从config文件中读取出的FTP_SERVER参数。</li>
<li>FtpUser: ftp server的hostname，可以直接指定usernam。$CONFIG.FTP_USER则表明是从config文件中读取出的FTP_USER参数。</li>
<li>FtpPasswd:略</li>
<li>FtpDir：登录ftp服务器后的上传目录。如果不存在，则会新建。$ENV.BUILD表明每次都会以当前build为名创建新的目录，存放本次运行结果。</li>
</ul>
</p>
      </div>
      <!-- InstanceEndEditable -->
     <!-- InstanceBeginEditable name="code2" -->
 <div class="des">
 <h4>3.	邮件自动通知功能</h4>
         <p>用户可配置 &lt;MailReport> 任务实现报告邮件通知。</p> 
      <pre class="brush:xml;gutter: false;toolbar:false; collapse:true;stripBrs:false;smart-tabs:true">
&lt;MailReport ToDo="yes">
			&lt;MailConfig location="MailConfig.xml"/>
			&lt;MailTemplate location="template/MailConfig.xml"/>
			&lt;To>shining.liu@oracle.com&lt;/To>
			&lt;Cc>sunshinelius@gmail.com&lt;/Cc>
			&lt;Subject>This is  a report generated by framework&lt;/Subject>
		&lt;/MailReport>
</pre>
<p>
<ul>
<li>Todo：是否运行mail任务，yes为运行，no为关闭。</li>
<li>mailConfig: 关于邮件服务器的配置文件，详见包中的mailconfig.xml。</li>
<li>To: 邮件接收人。</li>
<li>cc:邮件抄送人。</li>
<li>Subject：邮件标题（目前只支持英文）。</li>
</ul>
</p>
    </div>
<!-- InstanceEndEditable --> 
</blockquote>
</body>
<!-- InstanceEnd --></html>
